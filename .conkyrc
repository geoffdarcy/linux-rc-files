conky.config = {
    -- Window settings
    own_window = true,
    own_window_type = 'desktop',
    own_window_transparent = true,
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
    own_window_argb_visual = true,
    own_window_argb_value = 0,
    
    -- Position (top right corner)
    alignment = 'top_right',
    gap_x = 6,
    gap_y = 6,
    
    -- Size
    minimum_width = 400,
    minimum_height = 128,
    
    -- Display settings
    draw_shades = false,
    draw_outline = false,
    draw_borders = false,
    draw_graph_borders = false,
    
    -- Text settings
    use_xft = true,
    font = 'Liberation Mono:size=10',
    xftalpha = 0.8,
    
    -- Colors
    default_color = 'white',
    default_shade_color = 'black',
    
    -- Update settings
    update_interval = 60.0,
    total_run_times = 0,
    
    -- Performance
    double_buffer = true,
    no_buffers = true,
    cpu_avg_samples = 2,
    
    -- Prevent window from moving
    own_window_class = 'Conky',
}

conky.text = [[
${font Liberation Mono:size=12:bold}Server Information${font}
${font Liberation Mono:size=11}Hostname:${alignr}${nodename}${font}
${if_existing /proc/net/dev tailscale0}\
${font Liberation Mono:size=11}Tailname:${alignr}${exec bash -c "/usr/bin/hostname -A | sed -E 's/^[^ ]+ ([^.]+)\.tail.*/\1/' | xargs; echo"}${font}\
${endif}\
${font Liberation Mono:size=11}Operating System:${alignr}${exec lsb_release -ds 2>/dev/null || cat /etc/os-release | grep PRETTY_NAME | cut -d'"' -f2}${font}
${font Liberation Mono:size=11}Kernel:${alignr}${kernel}${font}
${font Liberation Mono:size=11}Hypervisor:${alignr}${exec systemd-detect-virt 2>/dev/null || echo "Unknown"}${font}
${font Liberation Mono:size=11}Total Memory:${alignr}${memmax}${font}
${if_existing /tmp/.ens18IPv4}\
${font Liberation Mono:size=11}IPv4 External:${alignr}${exec bash -c 'cat /tmp/.ens18IP | cut -f2 | xargs; echo'}${font}\
${endif}\
${if_existing /proc/net/route ens18}\
${font Liberation Mono:size=11}IPv4 ens18:${alignr}${addr ens18}
${endif}\
${if_existing /var/log/MODEM_IP_LOG}\
${font Liberation Mono:size=11}IPv4 Squid:${alignr}${exec bash -c 'cat /var/log/MODEM_IP_LOG | cut -f2 | xargs; echo'}\
${endif}\
${if_existing /proc/net/route ens19}\
${font Liberation Mono:size=11}IPv4 ens19:${alignr}${addr ens19}
${endif}\
${if_existing /proc/net/dev tailscale0}\
${font Liberation Mono:size=11}IPv4 Tailscale:${alignr}${addr tailscale0}${font}
${endif}\
${font Liberation Mono:size=11}Uptime:${alignr}${uptime}${font}
]]

